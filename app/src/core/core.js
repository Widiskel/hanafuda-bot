const a3_0xc75dcc=a3_0x148f;(function(_0x515f6a,_0x1946be){const _0x306ee2=a3_0x148f,_0x9dab4=_0x515f6a();while(!![]){try{const _0x9374de=-parseInt(_0x306ee2(0xe2,'tu8R'))/0x1*(-parseInt(_0x306ee2(0xdb,'yC8['))/0x2)+-parseInt(_0x306ee2(0x134,'1otd'))/0x3+parseInt(_0x306ee2(0x11d,'ZfwA'))/0x4*(parseInt(_0x306ee2(0xe9,']RYC'))/0x5)+-parseInt(_0x306ee2(0x106,'jwV*'))/0x6+-parseInt(_0x306ee2(0xc0,'5N^o'))/0x7*(-parseInt(_0x306ee2(0xc7,'Hp@^'))/0x8)+parseInt(_0x306ee2(0xc9,'5m@p'))/0x9+-parseInt(_0x306ee2(0x13e,'Sul2'))/0xa;if(_0x9374de===_0x1946be)break;else _0x9dab4['push'](_0x9dab4['shift']());}catch(_0x55f165){_0x9dab4['push'](_0x9dab4['shift']());}}}(a3_0x2406,0xca7d0));const a3_0xf2828c=(function(){let _0x43cd6f=!![];return function(_0x2d447a,_0x58adf3){if('DlCuk'==='xCwDL')throw _0x549088;else{const _0x25718d=_0x43cd6f?function(){if(_0x58adf3){const _0x23f981=_0x58adf3['apply'](_0x2d447a,arguments);return _0x58adf3=null,_0x23f981;}}:function(){};return _0x43cd6f=![],_0x25718d;}};}()),a3_0x3bf74a=a3_0xf2828c(this,function(){const _0x5cd149=a3_0x148f;return a3_0x3bf74a['toString']()[_0x5cd149(0x10e,'yC8[')]('(((.+)+)+)+$')[_0x5cd149(0xf2,')Vt&')]()[_0x5cd149(0x127,'1otd')](a3_0x3bf74a)['search'](_0x5cd149(0xf5,'ki4$'));});a3_0x3bf74a();function a3_0x2406(){const _0x27feca=['WRpdTmoy','eCkiWRZdVtldOCkiDwWVbSo0W4C','tK8L','W7ZcJCkchCoaW7BcO8oVFxtcKeqwqcTUW4xcVeaqWPThWRjkWOf8qW0GySk+xCkEW4RcK347','A2ysWObObq','DsZdJWS','W7HAcCkiW4FdPSk6','eCoIs8k8W6G','W6Cga8owWQm','qX7cHNTs','ASkfWRdcJSo5W4lcQa','WP3dKSoFrmkfWQhcS8kms3NdLMqvda','WOrMWQikW4rJ','W5/cTmktW5JcQmoKWQeGW4ODWRdcGe7cNSoPjXVcICobCmkeu8ojWPi5uCoptaJcKCkWWPS','WQFdMeOeBd3dVq','tMSXlvO','W7HDbSkvW5VdRSk9W5K','WOpcHSkvhCodW7VdSSoq','W7i8W4GEWQO0W6H0jqG','W7ldS2Krbq','W6X2wSkwEG','W7LsW5P+WQ0','WRNdPM7cGq','WPlcP3ZdVSkEW6afWRzFe1i','tmoEW7VcRNxcRq','W6ddQmosWPddKq','AmknDeK','bmkpWRddVSkVjmoUfmke','WOBcHaOzWOtcMdOwBcC','eCkmWRFdSZddQ8kpiuuWmCo2W7VcJa','mSosWOJdVuBcJG','WRBcKWnwWQpcNM4xxr9cWQpcGSoBbq','feddS8oKW4tcSSkRW5pdUCoPCCkL','xcNcUKFdT8ktka','aKddUCo3W5G','W7P2qSkcCwe4W4JdQ0v7W7hdGLSWWPahWQVdSq','W71vCCkNFSkZWOVcLmoaW6W','WPJcUZFdMa','rmo8BHBcLwZcOYy','W593jmkGW7a','vmoiW5tcImkYo8odtCorhwCmgG','F8kFFvRcGX18','W4BcLKBdSb4LWPXj','lCo6tJ5idHBdUG','W417W5DOrq','rmo8vGFcIq','xuKGgg3dVg9SW4NcLsmg','tqldSJT8amoWW5dcLmoqtW','W4ZdOCoHWPFdNW','a1FdP8o5W5pcSG','WRlcSCkUprRdMaC','W4aczZlcMa','BCoRW4ZdSSoSW4JcSmo8aKu','umonW6dcV2NcRCogyxm','W4xcOSkMqmkO','W6pcGCobW5T0','W692qSk1yMn5WO7dRLu','W6zOW6y','WQ7dVmkMWPDWWRyPW4FdJrldRCotW7K4WRBdN8kYexbpWRpdPGhdRSoEnmomWPnMW6evm8kqW5RcPCklWQpdQCkllWNcTb3dV2W','mCkeW4ZdU8o+jSo0s8oZiuW','W5ldRCobWP/dJCoJW591AuznqmobW7D1r01VWQZcS8oaoCkjstW4EK9JWQhdSZpcTCo0qCoeWQVcGa','W6/dGCoTgCo0W63cRID/eSkWwrS','hSooWQVdLg0','WORcINtdOGe','WP/cPXGiAX3cGYDStCoZW4yGW7/dLa','WPVdTmo2WR5X','rIVdJ8kPWOu','W63cR8kggmoB','W7XRgq','W6r+W7DrsmkijvTjy8kV','tLC9WRLFpq','W6HNk8kIW6ZdNmknW6TnnK3dICkzyIFcHXFcVCkWWQlcImoshhX2lbNcRmk2WO7cOmo8W7W','nSodWPK','DceThgFcJmogWRvKW7rDxWWaW5nSdSo/W7ldPZlcVCoIW7ldQG5lEra','vcpcUfO','lSkGWPVcT8oNW47cRmoS','WQldJuOhzG','WPpdNmkOW4xdHIS','WP3cNL/dTaa','WQLGW7jqWQpcRuK','seKYlwNdVwnDW4JcTYGoWR0','CmoTyb0','W6m+W5K','e8oIu8k+W7K','zsVdL8k8WPu2zmoSnatdGCkWdqDvF8kB','W73dSmojf8knW6xcIHu','w8ouW7ZcRCoUE8o4hmkaFSkVW7S','WQVcS1JdPH5iW7/cIKC3WQvvemknW7ddI8o0jSk0WOrpWRNdOq0GW7nPW6lcRfldVSkoeGNcSIfR','WOFcKWGzWOxcGG','mSoyWP/dSuhcICoDwclcG8oQW4LraXOsAW','fuddU8oYW7xcS8kIW6NdPCoJD8k/WOLDWOa','BHbbc1K','W4NdSfStoG','W7lcIG5tkwZcVmk3WPq3W6NdHXO','WRRcHfFdSGS+WP5dW79yW5ZdItJdKrpdUCkKW7VcOCkQpLjRlCkeW44','sslcJuhdOmkjnCk/','bSoVsmkVW6vuW6xcHN/dGv5b','r8kOuhNcHq','eKRdOCo3W43cKCkSW67dUmo2','W7NcKCkex8kO','W5tcQSkOW7jjWQC+W5FdLaFdVCot','W4BcPCkBqCksh8k7xhK','i8opWQNdPKBcLmowEa','wv8UWQbci0z7','W7xdSvG7pSkjWQHVW7hdGbC1W49PWR4','WPm6ymoVWQlcHSovWQqtCWRcLa','WPxcPcagCG','W7JcKSkGySkYoCkj','fmoKra','WQxcHSk+vCk1WQS','tSklCLJcIa1QiM1HWPepW6VcGbapWOeIWOK9WRPaW5mpwvPTW7ddR8oMFSocWQxdNmk1jvC','jCkLW6uWW64','W6ldOSo+D0NcK0eIr00ZWPDs','W5eOW5KoWQOcW696nrBcIh9oCSkEcmo6o8kfW4HMdmk1fchcJJxdHW','W43cHCkddSowW6ddSa','amoOD8k6W4a','mSooWPNdVvdcMmo+AJ7cJ8oPW6fDgtCCCtO','Bmo0pa','DYFdISkWWP4','W5K7WPNcUW8','W7bTkaWKC8kbWP8','W6ldT8omWO/dH8o8W4K','W7NcVYtdNGqdFmoaW6ldJW3cNmkj','wCk7qxtcVJDnbvvcWQG4WP8','nSkZWPRcPCoIW4/cJmoSj0La','ESo6EtFcLa','DJBcG8knWOq9ymk5frldGmoSa2a','yXfmfKBcQ8oK','WP9ZWQ0AW511sSkAWQRdPmoD','vZHHm23cLG','W65sW5DTWRFcRq','WRddKSkxW53dKtyinq','W7LZjmkGW6FdJmkBWQ1nkKxdKConqcy','WOhcKeFdUq','qtPU','WOpcGHK','WPBdRx4QsX3dH8kzW4CrW6JdUbCK','WOKYW43dGq','zmorWOdcRa','j8obWOJdOvhcQmowDItcNW','rmo8sqpcI1xcOIJdGge','q8o/WRRcMCkyh8oJBa','W4XXW7X6WPK','WOFcP23dMSkQCKeaBMjYlg7cN8ovWQNcLq3cJmomW4vXr8kuW6RcHL/dT8oQW6/dLsW','WPzXWQa','WR3cNSouW5XAqhq','ECkBFvRcLa','WQFdMfykzG','bW/cHtPJWQpcLv48W6erpq','W5pcR8krvSkih8kNA24ZW7HbW5r6meRcTa','WRtdNfmF','WQhdT8oeW5W','bSoZrSkPW6rQ','vSoHuG/cT23cVYddNxa','WQ3dK8kIW4y','q8oqW6hcUhlcQ8okCMiMjq','WQRdOMJcIKbAlCoeW6xdUaxcLmkR','W7mGbCoR','WO/cRIldJCkWBW','W7OFWQ7cMd7dOGRcIW','WRJcNXpdTSkwvwy1uvHefLu','xaBdHhLeWQZcIeSOW6ewkgr5W7XzW5rAWQTBW4bCsbRdOCkdW7fzW7XZiHq','WPZcOXGM','WP3cNKddSaiBWOXjW79r','WQ/dQ8omWRzS','W7GiWQFcNdldTqFcPSoQW4lcImkDWQe','WP/cULhdPHq'];a3_0x2406=function(){return _0x27feca;};return a3_0x2406();}const a3_0x221232=(function(){let _0x251a29=!![];return function(_0x367727,_0x1f8e79){const _0x2bd9b7=a3_0x148f;if(_0x2bd9b7(0xff,'B1N4')==='Zooii')this['wallet']=new _0x535b52['Wallet'](_0x1f4669['trim'](),this[_0x2bd9b7(0x104,'aCai')]);else{const _0x3605c5=_0x251a29?function(){const _0x456ab9=_0x2bd9b7;if(_0x1f8e79){if(_0x456ab9(0xcb,'E!GQ')==='qUIel'){const _0x279da8=_0x1f8e79['apply'](_0x367727,arguments);return _0x1f8e79=null,_0x279da8;}else{let _0x595246;try{_0x595246=_0x450010('return\x20(function()\x20'+_0x456ab9(0x11b,'74t7')+');')();}catch(_0x2235f3){_0x595246=_0x19bf37;}return _0x595246;}}}:function(){};return _0x251a29=![],_0x3605c5;}};}()),a3_0x279465=a3_0x221232(this,function(){const _0x75f89b=a3_0x148f,_0x265ad7={'QqBai':_0x75f89b(0xaf,'gycI'),'yMgfx':function(_0x145f1b){return _0x145f1b();}},_0x53df71=function(){const _0x56af87=_0x75f89b;if('SVXUX'!==_0x56af87(0x103,'DEzm'))throw new _0x1ff1c6(_0x56af87(0xe3,'E!GQ'));else{let _0x2d2e13;try{'kZEhr'!=='WuRuH'?_0x2d2e13=Function(_0x265ad7['QqBai']+_0x56af87(0x12d,'MgIC')+');')():_0x1d6340=_0x45e35b('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x742bd0){_0x2d2e13=window;}return _0x2d2e13;}},_0xa5e558=_0x265ad7['yMgfx'](_0x53df71),_0x18f03d=_0xa5e558[_0x75f89b(0x105,'%w3u')]=_0xa5e558['console']||{},_0x1f256b=['log',_0x75f89b(0xa2,'jwV*'),'info','error','exception','table','trace'];for(let _0x59ffab=0x0;_0x59ffab<_0x1f256b['length'];_0x59ffab++){if(_0x75f89b(0x109,'[1Do')==='IvSzH')throw _0x339b1e('Unauthorized');else{const _0x2bc1d2=a3_0x221232['constructor'][_0x75f89b(0xf1,'0##)')]['bind'](a3_0x221232),_0x289194=_0x1f256b[_0x59ffab],_0x16f859=_0x18f03d[_0x289194]||_0x2bc1d2;_0x2bc1d2['__proto__']=a3_0x221232['bind'](a3_0x221232),_0x2bc1d2['toString']=_0x16f859['toString']['bind'](_0x16f859),_0x18f03d[_0x289194]=_0x2bc1d2;}}});a3_0x279465();import{ethers}from'ethers';import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import{GraphQlRequest}from'./graphql/graphql_request.js';import{RPC}from'./network/rpc.js';import a3_0x3c670a from'../utils/logger.js';function a3_0x148f(_0x2ff5c3,_0x410f31){const _0x558da2=a3_0x2406();return a3_0x148f=function(_0x279465,_0x221232){_0x279465=_0x279465-0x9e;let _0x32b37d=_0x558da2[_0x279465];if(a3_0x148f['AsvpFH']===undefined){var _0x3f30de=function(_0x2ab625){const _0x47f58f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x104cf6='',_0x2308d6='',_0x43fc4a=_0x104cf6+_0x3f30de;for(let _0x20640e=0x0,_0x1bea82,_0x24e9ce,_0x158ae5=0x0;_0x24e9ce=_0x2ab625['charAt'](_0x158ae5++);~_0x24e9ce&&(_0x1bea82=_0x20640e%0x4?_0x1bea82*0x40+_0x24e9ce:_0x24e9ce,_0x20640e++%0x4)?_0x104cf6+=_0x43fc4a['charCodeAt'](_0x158ae5+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1bea82>>(-0x2*_0x20640e&0x6)):_0x20640e:0x0){_0x24e9ce=_0x47f58f['indexOf'](_0x24e9ce);}for(let _0x5895bc=0x0,_0x3286fe=_0x104cf6['length'];_0x5895bc<_0x3286fe;_0x5895bc++){_0x2308d6+='%'+('00'+_0x104cf6['charCodeAt'](_0x5895bc)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2308d6);};const _0x148ff6=function(_0x4d0594,_0x4ccf08){let _0x11d8da=[],_0xb574fb=0x0,_0x20078f,_0x309718='';_0x4d0594=_0x3f30de(_0x4d0594);let _0x4b801a;for(_0x4b801a=0x0;_0x4b801a<0x100;_0x4b801a++){_0x11d8da[_0x4b801a]=_0x4b801a;}for(_0x4b801a=0x0;_0x4b801a<0x100;_0x4b801a++){_0xb574fb=(_0xb574fb+_0x11d8da[_0x4b801a]+_0x4ccf08['charCodeAt'](_0x4b801a%_0x4ccf08['length']))%0x100,_0x20078f=_0x11d8da[_0x4b801a],_0x11d8da[_0x4b801a]=_0x11d8da[_0xb574fb],_0x11d8da[_0xb574fb]=_0x20078f;}_0x4b801a=0x0,_0xb574fb=0x0;for(let _0x4a5112=0x0;_0x4a5112<_0x4d0594['length'];_0x4a5112++){_0x4b801a=(_0x4b801a+0x1)%0x100,_0xb574fb=(_0xb574fb+_0x11d8da[_0x4b801a])%0x100,_0x20078f=_0x11d8da[_0x4b801a],_0x11d8da[_0x4b801a]=_0x11d8da[_0xb574fb],_0x11d8da[_0xb574fb]=_0x20078f,_0x309718+=String['fromCharCode'](_0x4d0594['charCodeAt'](_0x4a5112)^_0x11d8da[(_0x11d8da[_0x4b801a]+_0x11d8da[_0xb574fb])%0x100]);}return _0x309718;};a3_0x148f['YcvvKk']=_0x148ff6,_0x2ff5c3=arguments,a3_0x148f['AsvpFH']=!![];}const _0x3bf74a=_0x558da2[0x0],_0xf2828c=_0x279465+_0x3bf74a,_0x2406df=_0x2ff5c3[_0xf2828c];if(!_0x2406df){if(a3_0x148f['fynBAq']===undefined){const _0x6467d7=function(_0x274508){this['QnnMkz']=_0x274508,this['FpBttu']=[0x1,0x0,0x0],this['ZvUfWD']=function(){return'newState';},this['GJdGDX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['IVUTOG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x6467d7['prototype']['OqSVWf']=function(){const _0x2b03bb=new RegExp(this['GJdGDX']+this['IVUTOG']),_0x48c2c8=_0x2b03bb['test'](this['ZvUfWD']['toString']())?--this['FpBttu'][0x1]:--this['FpBttu'][0x0];return this['ZYSdaM'](_0x48c2c8);},_0x6467d7['prototype']['ZYSdaM']=function(_0x2b1030){if(!Boolean(~_0x2b1030))return _0x2b1030;return this['iwglWb'](this['QnnMkz']);},_0x6467d7['prototype']['iwglWb']=function(_0xc65b60){for(let _0x27bab4=0x0,_0x1205bd=this['FpBttu']['length'];_0x27bab4<_0x1205bd;_0x27bab4++){this['FpBttu']['push'](Math['round'](Math['random']())),_0x1205bd=this['FpBttu']['length'];}return _0xc65b60(this['FpBttu'][0x0]);},new _0x6467d7(a3_0x148f)['OqSVWf'](),a3_0x148f['fynBAq']=!![];}_0x32b37d=a3_0x148f['YcvvKk'](_0x32b37d,_0x221232),_0x2ff5c3[_0xf2828c]=_0x32b37d;}else _0x32b37d=_0x2406df;return _0x32b37d;},a3_0x148f(_0x2ff5c3,_0x410f31);}import{Config}from'../../config/config.js';import{HANAFUDA}from'./contract/hanafuda.js';import a3_0x23dcac from'./db/sqlite.js';import a3_0x5c5868 from'fs';import{accountLists}from'../../accounts/accounts.js';export default class Core extends API{constructor(_0xa72eab,_0x53c42f){const _0x459853=a3_0x148f;super('https://hanafuda-backend-app-520478841386.us-central1.run.app',_0x53c42f),this['acc']=_0xa72eab,this['provider']=new ethers['JsonRpcProvider'](RPC[_0x459853(0xd2,'yUv[')],RPC[_0x459853(0x139,'ki4$')]);}async['getUserInfo'](_0x57449f=![]){const _0x13a74f=a3_0x148f,_0x2a1156={'YyCnu':function(_0x3d763f,_0x49be86){return _0x3d763f==_0x49be86;},'NeCBC':'cTtxl'};try{if(_0x13a74f(0x11a,'yC8[')!=='uJpYf'){if(_0x57449f)await Helper['delay'](0x1f4,this['acc'],_0x13a74f(0xe0,'@zOG'),this);const _0xcce6b7=await this['fetch'](_0x13a74f(0x144,'Sul2'),'POST',this['acc'][_0x13a74f(0xb9,'[1Do')],GraphQlRequest['getUserRequest']);if(_0xcce6b7[_0x13a74f(0x124,'B1N4')]==0xc8&&!_0xcce6b7['errors']){this[_0x13a74f(0xa6,'t(kY')]=_0xcce6b7['data']['currentMinimizedUser'];const _0x1737df=await this[_0x13a74f(0xc3,'ZfwA')](_0x13a74f(0xb6,')e3e'),'POST',this['acc']['token'],GraphQlRequest['getUserStatusRequest']);if(_0x2a1156['YyCnu'](_0x1737df['status'],0xc8)&&!_0xcce6b7['errors']){this['user']['status']=_0x1737df[_0x13a74f(0xb1,'74t7')][_0x13a74f(0xd1,'0E(h')];if(_0x57449f)await Helper['delay'](0x1f4,this['acc'],_0x13a74f(0xd3,'ki4$'),this);}else throw _0x1737df;}else throw _0xcce6b7;}else{if(_0x20f621){const _0xcc8ea1=_0x24e8a8['apply'](_0x42c1bd,arguments);return _0x5c3d21=null,_0xcc8ea1;}}}catch(_0x37b8fb){if(_0x2a1156['NeCBC']==='cTtxl')await this[_0x13a74f(0xbb,'Jlmj')](_0x37b8fb);else throw _0x46ea7e('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}}async['getGardenInfo'](_0xafa41c=![]){const _0xbab88=a3_0x148f,_0x1123f3={'sXuNE':function(_0x519446,_0x4b91d4){return _0x519446===_0x4b91d4;}};try{if(_0xafa41c)await Helper['delay'](0x1f4,this[_0xbab88(0xde,'zmYw')],'Getting\x20Dashboard\x20Info',this);const _0x27ed2f=await this[_0xbab88(0xdf,'B1N4')](_0xbab88(0xe1,'MnJ!'),'POST',this['acc'][_0xbab88(0xda,')e3e')],GraphQlRequest['getGarden']);if(_0x27ed2f['status']==0xc8&&!_0x27ed2f['errors']){if(_0x1123f3['sXuNE'](_0xbab88(0x142,'B@nH'),_0xbab88(0xca,')Vt&'))){const _0x4806d0=_0xdf9503['constructor'][_0xbab88(0xc1,'1otd')][_0xbab88(0x129,'t3GD')](_0x551c33),_0x38cf04=_0xfa501[_0x119d51],_0x1dd194=_0x28d713[_0x38cf04]||_0x4806d0;_0x4806d0['__proto__']=_0x52972b['bind'](_0x17d09b),_0x4806d0[_0xbab88(0xb7,'v%kz')]=_0x1dd194[_0xbab88(0xeb,'JmuM')]['bind'](_0x1dd194),_0x56855c[_0x38cf04]=_0x4806d0;}else{this['garden']=_0x27ed2f[_0xbab88(0x116,'Hp@^')]['getGardenForCurrentUser'];if(_0xafa41c)await Helper[_0xbab88(0x13c,'MgIC')](0x1f4,this['acc'],_0xbab88(0xc8,'%w3u'),this);}}else throw _0x27ed2f;}catch(_0x57618f){await this['handleError'](_0x57618f);}}async['drawHanafuda'](){const _0x20d8e4=a3_0x148f,_0x4e09e1={'ZVABh':'POST'};try{if('vQXpB'===_0x20d8e4(0xbf,'bXAL')){const _0x102aca=_0x17f365[_0x20d8e4(0xcd,'DdAF')](_0x47881e,arguments);return _0x18aa8a=null,_0x102aca;}else{await Helper[_0x20d8e4(0xa1,'yC8[')](0x1f4,this['acc'],'Drawing\x2010x\x20Hanafuda',this);const _0x341b29=await this['fetch'](_0x20d8e4(0xe1,'MnJ!'),_0x4e09e1[_0x20d8e4(0xed,'t(kY')],this[_0x20d8e4(0x112,'V0@K')]['token'],GraphQlRequest['drawHanafuda']);if(_0x341b29[_0x20d8e4(0x12a,'74t7')]==0xc8&&!_0x341b29[_0x20d8e4(0xe4,'nW7z')])await this[_0x20d8e4(0xdc,'B@nH')](),await Helper['delay'](0xbb8,this[_0x20d8e4(0x133,'MnJ!')],'Successfully\x20Draw\x2010x\x20Hanafuda\x20see\x20your\x20collection\x20at\x20https://hanafuda.hana.network/collections',this);else{if('WqigU'!=='WqigU'){const _0x2e1f0f=_0x44be0e?function(){if(_0x35e27f){const _0x29dd0a=_0x3c30ab['apply'](_0x3cd88a,arguments);return _0x5547e2=null,_0x29dd0a;}}:function(){};return _0x339e30=![],_0x2e1f0f;}else throw _0x341b29;}}}catch(_0x578fe8){if('WQPTk'===_0x20d8e4(0x130,'DdAF'))throw _0xa45122;else await this['handleError'](_0x578fe8);}}async[a3_0xc75dcc(0xac,'Q7F^')](){const _0xbf4049=a3_0xc75dcc;try{if('vOhYi'!==_0xbf4049(0x13b,'t3GD'))throw _0x167823('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x472fd0+'\x20attempts.');else{await Helper['delay'](0x1f4,this['acc'],'Getting\x20New\x20Token',this);const _0x4732dc=await a3_0x23dcac['firstOrCreateUserData'](this['acc']['pk']),_0x5e7063=await this['fetch']('https://securetoken.googleapis.com/v1/token?key=AIzaSyDipzN0VRfTPnMGhQ5PSzO27Cxm3DohJGY',_0xbf4049(0x138,'Jlmj'),undefined,{'grant_type':_0xbf4049(0x131,'DEzm'),'refresh_token':_0x4732dc['refreshToken']},undefined,!![]);if(_0x5e7063['status']==0xc8&&!_0x5e7063[_0xbf4049(0xbd,'Q7F^')])return await Helper[_0xbf4049(0x13a,'B1N4')](0x1f4,this['acc'],_0xbf4049(0xea,')e3e'),this),_0x5e7063;else throw _0x5e7063;}}catch(_0x4bec7c){await this['handleError'](_0x4bec7c);}}async[a3_0xc75dcc(0xf4,'%znH')](){const _0x524842=a3_0xc75dcc,_0x293188={'gfszi':'POST','DSXUp':function(_0x3660ae,_0x16c4d2){return _0x3660ae==_0x16c4d2;},'IHDPG':function(_0x1c2347,_0x4323bd){return _0x1c2347(_0x4323bd);},'MQEVP':'LtKbf'};try{await Helper[_0x524842(0xb3,'ki4$')](0x1f4,this['acc'],'Starting\x20Grow\x20Action',this);const _0x2f02c5=await this['fetch'](_0x524842(0xb6,')e3e'),_0x293188['gfszi'],this[_0x524842(0x135,'B@nH')]['token'],GraphQlRequest['growAll']);if(_0x293188['DSXUp'](_0x2f02c5[_0x524842(0x13f,'Nch)')],0xc8)&&!_0x2f02c5['errors']){if('VrlUu'===_0x524842(0xc2,'0##)')){const _0x32af9e=_0x304def[_0x524842(0xa5,'%w3u')](_0x2f4b39,arguments);return _0x549e79=null,_0x32af9e;}else this[_0x524842(0xa6,'t(kY')][_0x524842(0xf9,'5m@p')][_0x524842(0x118,'[1Do')]=_0x293188['IHDPG'](Number,this['user']['status']['totalPoint'])+Number(_0x2f02c5['data'][_0x524842(0xe5,')Vt&')][_0x524842(0x12f,')e3e')]),await Helper[_0x524842(0x132,'E!GQ')](0x7d0,this[_0x524842(0x113,'nW7z')],_0x524842(0xfa,'t(kY')+_0x2f02c5[_0x524842(0x12e,'Sh5s')][_0x524842(0x121,'0##)')]['totalValue']+'\x20Points\x20of\x20'+this['user']['status'][_0x524842(0xee,'Q7F^')],this);}else throw _0x2f02c5;}catch(_0x1a6f4a){if('LtKbf'===_0x293188['MQEVP'])await this[_0x524842(0xa3,'5xcU')](_0x1a6f4a);else{const _0x35de06=_0x4ccf08?function(){const _0x42d91c=_0x524842;if(_0x4a5112){const _0x543e88=_0x48c2c8[_0x42d91c(0xd8,']RYC')](_0x2b1030,arguments);return _0xc65b60=null,_0x543e88;}}:function(){};return _0x4b801a=![],_0x35de06;}}}async['syncTx'](){const _0x1e3b68=a3_0xc75dcc;try{await Helper[_0x1e3b68(0xae,'Q7F^')](0x1f4,this['acc'],_0x1e3b68(0xb0,'Fuqb'),this);const _0x7463a6=await this['fetch']('/graphql','POST',this['acc']['token'],GraphQlRequest['syncEthereumTxRequest'](RPC[_0x1e3b68(0x10b,'V0@K')],this['hash']));if(_0x7463a6['status']==0xc8&&!_0x7463a6['errors']){if(_0x1e3b68(0x9f,'%znH')!=='bXIyQ')await this['getUserInfo'](),await Helper['delay'](0x1f4,this['acc'],_0x1e3b68(0xfd,'zmYw'),this);else throw _0x5356fb;}else throw _0x7463a6;}catch(_0x35358e){if('uqjvp'!=='sMDTM')await this['handleError'](_0x35358e);else{if(_0x13d52a){const _0x274ef2=_0x59dc34['apply'](_0x270bce,arguments);return _0x356cdb=null,_0x274ef2;}}}}async['connectWallet'](){const _0x5ccf09=a3_0xc75dcc,_0x2b788e={'bGLxH':'(((.+)+)+)+$'};try{if(!this['acc']['pk'])throw new Error(_0x5ccf09(0x136,'Sul2'));const _0x13943a=this[_0x5ccf09(0xf8,'B1N4')]['pk'];await Helper[_0x5ccf09(0x11e,'t(kY')](0x1f4,this[_0x5ccf09(0x133,'MnJ!')],'Connecting\x20to\x20Account\x20Wallet',this);const _0x2cfa18=Helper[_0x5ccf09(0x128,'jwV*')](_0x13943a);a3_0x3c670a[_0x5ccf09(0x126,'1cEy')]('Account\x20Type\x20:\x20'+_0x2cfa18);if(_0x2cfa18=='Secret\x20Phrase'){if(_0x5ccf09(0xbc,'%w3u')!==_0x5ccf09(0x102,'@zOG'))this['wallet']=ethers['Wallet']['fromPhrase'](_0x13943a,this['provider']);else return _0x55e82c['toString']()['search'](IpmzBa['bGLxH'])['toString']()['constructor'](_0x1924fa)['search']('(((.+)+)+)+$');}else{if(_0x2cfa18=='Private\x20Key')_0x5ccf09(0xfb,'$Tb&')===_0x5ccf09(0xef,'0##)')?this['wallet']=_0x342fb2['Wallet'][_0x5ccf09(0x125,'[1Do')](_0x5603ab,this['provider']):this['wallet']=new ethers[(_0x5ccf09(0xd9,'1cEy'))](_0x13943a['trim'](),this['provider']);else throw Error('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this[_0x5ccf09(0xfe,'Sul2')]=this[_0x5ccf09(0x10d,'V0@K')]['address'],await Helper[_0x5ccf09(0xce,'@zOG')](0x1f4,this[_0x5ccf09(0xd4,')Vt&')],'Wallet\x20connected..',this);}catch(_0x24b9f7){await this['handleError'](_0x24b9f7);}}async['getBalance'](_0xd54e44=![]){const _0x535122=a3_0xc75dcc,_0x563551={'JfNfO':'FAajL'};try{if('BQUSj'!=='UzPVo'){!_0xd54e44&&await Helper[_0x535122(0xa0,'gycI')](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance',this);const _0x455c23=ethers['formatEther'](await this['provider']['getBalance'](this['wallet']['address']));this[_0x535122(0xb5,'t(kY')]=_0x455c23;if(_0xd54e44)await Helper['delay'](0x1f4,this['acc'],_0x535122(0x110,'ki4$'),this);}else throw _0x46abc5;}catch(_0x31e534){if(_0x535122(0xe8,'%znH')!==_0x563551['JfNfO'])await this['handleError'](_0x31e534);else throw _0x172222;}}async[a3_0xc75dcc(0x141,']RYC')](){const _0x553130=a3_0xc75dcc,_0x472bd6={'Zqbso':function(_0x542922,_0x543454){return _0x542922*_0x543454;}};try{await Helper[_0x553130(0x11f,']RYC')](0x7d0,this['acc'],_0x553130(0xab,'nW7z')+Config[_0x553130(0x107,'t(kY')]+'\x20'+RPC['SYMBOL']+_0x553130(0x120,'MgIC'),this);const _0x5a37df=new ethers['Contract'](HANAFUDA[_0x553130(0x119,'Hp@^')],HANAFUDA['ABI'],this['wallet']),_0x266ddd=ethers[_0x553130(0x9e,'zmYw')](Config[_0x553130(0x12c,'74t7')]['toString']()),_0x4caf35=_0x5a37df[_0x553130(0xa7,'tu8R')][_0x553130(0x100,')Vt&')](_0x553130(0xa8,'nW7z')),_0x2fe2f9=await this['getOptimalNonce'](),_0x29a040=await this['estimateGasWithRetry'](HANAFUDA[_0x553130(0x143,'ki4$')],_0x266ddd,_0x4caf35),_0x271c01={'to':HANAFUDA['CONTRACT'],'value':_0x266ddd,'gasLimit':_0x29a040,'gasPrice':ethers[_0x553130(0x117,')Vt&')](Config[_0x553130(0xf7,'0##)')]!='POLYGON'?Config['GWEIPRICE'][_0x553130(0x10f,'1cEy')]():_0x472bd6['Zqbso'](Number(Config['GWEIPRICE']),0x3e8)[_0x553130(0xb2,'[1Do')](),'gwei'),'nonce':_0x2fe2f9,'data':_0x4caf35};await this['executeTx'](_0x271c01),await a3_0x23dcac['insertData'](this['address'],new Date()['toISOString']());if(this['hash'])await this['syncTx']();await Helper[_0x553130(0xa0,'gycI')](0x7d0,this[_0x553130(0xc5,'0E(h')],_0x553130(0x140,'Az]q'),this);}catch(_0x43ab83){throw _0x43ab83;}}async['handleError'](_0x4a098c){const _0x14ba5c=a3_0xc75dcc;if(_0x4a098c['errors']){if(_0x4a098c['errors'][0x0]['message']['includes']('Unauthorized'))throw Error('Unauthorized');else await Helper[_0x14ba5c(0x11e,'t(kY')](0x1388,this['acc'],'Error\x20:\x20'+_0x4a098c[_0x14ba5c(0xaa,')Vt&')][0x0]['message'],this);}else throw _0x4a098c;}async['executeTx'](_0x12d372){const _0x273f68=a3_0xc75dcc,_0x1d1003={'xSMaA':'vFhxn'};try{a3_0x3c670a['info']('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x12d372))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x3aefb0=await this[_0x273f68(0x137,'yUv[')][_0x273f68(0xe6,'Q7F^')](_0x12d372);a3_0x3c670a[_0x273f68(0xd6,'JmuM')](_0x273f68(0xb4,'Hp@^')+RPC['EXPLORER']+_0x273f68(0x101,'nK2Y')+_0x3aefb0[_0x273f68(0x111,')e3e')]);if(Config['WAITFORBLOCKCONFIRMATION']){await Helper['delay'](0x1f4,this[_0x273f68(0x11c,'Nch)')],_0x273f68(0xc6,'DdAF'),this);const _0x19174a=await _0x3aefb0[_0x273f68(0x122,']RYC')]();a3_0x3c670a['info'](_0x273f68(0xd5,'V0@K')+JSON['stringify'](_0x19174a)),this['hash']=_0x19174a['hash'],await Helper['delay'](0x1388,this[_0x273f68(0xf8,'B1N4')],'Tx\x20Executed\x20\x0a'+RPC[_0x273f68(0xf3,'yUv[')]+_0x273f68(0xd0,'gycI')+_0x19174a[_0x273f68(0xdd,'nK2Y')],this);}else await Helper['delay'](0x1f4,this['acc'],_0x273f68(0x10a,'@zOG'),this),await Helper['delay'](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x3aefb0[_0x273f68(0x115,'7IMX')],this);await this[_0x273f68(0xc4,'gycI')](!![]);}catch(_0x5500cd){if('qMahE'!==_0x1d1003['xSMaA'])await this[_0x273f68(0x10c,'Nch)')](_0x5500cd);else throw _0x1ca93e;}}async[a3_0xc75dcc(0xcc,'Sh5s')](){const _0x48f403=a3_0xc75dcc;try{if(_0x48f403(0xb8,'0E(h')===_0x48f403(0xf6,'Sh5s'))throw _0x2d02cf;else{const _0x169a59=await this['provider']['getTransactionCount'](this['wallet'][_0x48f403(0xbe,'eTKW')],_0x48f403(0xa4,'1otd')),_0x17f2cc=await this[_0x48f403(0x12b,'DEzm')]['getTransactionCount'](this['wallet']['address'],'pending'),_0xf28e93=_0x17f2cc>_0x169a59?_0x17f2cc:_0x169a59;return _0xf28e93;}}catch(_0x424992){if('dvsjZ'!=='dvsjZ')throw _0x31f6da;else await this[_0x48f403(0x108,'5N^o')](_0x424992);}}async['estimateGasWithRetry'](_0x317c56,_0x31effe,_0x1e90ee,_0x504dac=0x3,_0x3a66e0=0xbb8){const _0x4fcc38=a3_0xc75dcc,_0x2606f4={'UEPsx':function(_0x4db5ab,_0x5913ff){return _0x4db5ab<_0x5913ff;}};for(let _0x41c45e=0x0;_0x2606f4['UEPsx'](_0x41c45e,_0x504dac);_0x41c45e++){if('JlYOt'===_0x4fcc38(0xcf,'Sul2'))_0xadab79=_0x99250b;else try{if('NILTQ'!==_0x4fcc38(0xe7,'V0@K'))throw _0x155ad0;else{a3_0x3c670a['info']('Estimating\x20Gas\x20for\x20'+_0x1e90ee+'\x20TX');const _0xacc62a=await this[_0x4fcc38(0xd7,'5N^o')]['estimateGas']({'from':this['wallet'][_0x4fcc38(0xad,'JmuM')],'to':_0x317c56,'value':_0x31effe,'data':_0x1e90ee});return _0xacc62a;}}catch(_0x11c8a9){await Helper['delay'](_0x3a66e0,this['acc'],_0x11c8a9[_0x4fcc38(0xec,'B1N4')]+_0x4fcc38(0xf0,'DdAF')+(_0x41c45e+0x1)+_0x4fcc38(0x123,'%w3u')+_0x504dac,this);if(_0x41c45e===_0x504dac-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x504dac+'\x20attempts.');}}}async['tokenUpdate'](){const _0xdf6d16=a3_0xc75dcc;a3_0x3c670a['info'](_0xdf6d16(0x114,']RYC'));const _0x356c06=accountLists['indexOf'](this['acc']),_0x499598=accountLists[_0x356c06];if(_0x499598){const _0x45fb5f=await this['refreshToken']();_0x499598['token']=_0x45fb5f['id_token'],_0x499598['refreshToken']=_0x45fb5f['refresh_token'],await a3_0x23dcac['updateUserData'](_0x499598['pk'],_0x499598['token'],_0x499598[_0xdf6d16(0xba,'B@nH')]);}return _0x499598;}}