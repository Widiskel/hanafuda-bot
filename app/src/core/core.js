const a3_0x1f0ab6=a3_0x3e6b;function a3_0x1668(){const _0x51b35e=['W7HJWPRdQCozxW','W7OreHFcJa90eG','lSoPW5CAiCoW','z8k8WPGGjHbSkHBcUMK','WQ4DfX/cNG','tmolDspdHa','qSo2lx9jW6qiW50','luWwDSoi','W4RdTCksW4yAW5JdR3hdGmkDkNTT','fCkSqCk0E0VcG8kWWQ1mW4JdPCozWQ3cVSo5EZ9RWRFdT8kEW5jks1dcJSoAsta3W60','WQqjnG','ahJcVCo9WOFdKmkSW78QWPRdTLCF','W6mzzSoJ','W50trCkKW5RcHKW','egBdSeVcIG','WOuGwmoKDa','WPqPhYKo','ufBcGMZcKmkKpSk5W5pdR8keztvmWOZdSK/cPtvP','z8k8WOuS','CvBcKxtcIW','WOT6dLRcKwbxWODZBNNdKmox','u8oHhw5lW7KpW5xcRG','WQxdQmkhm3G','y8o2WP8/msHTW5OKzmoSECkjW7JcNdpcHCoisHuEia','WQRcHCkwWRSF','W6hcUK8rWR3cLSkubZFcHxtcUK0','W4ThWQBdISoVySkQBwW3WQC9W6y','W5BcTX0MWQdcNCkdjZdcHwi','WRFdRmkfnM9Nt8oSWOu','s8ozCCkbW6JdRmkVW5RdRW','W6HBWPP7WQ4','W57dPhycWQVdItNcUW','W7fGkMG','nCkeW6i6yCkzW7VcLICX','W40lWPJdQ8oEuG','WPpdTCkgoxa','WQRcPCojWP9jWP8','W6ijtCocvmokdaa','WQPPWOFcJ8kFvHxcR1BcG8kmpmkOgSkVvSkLWPOnxdNcVuRcIc8bcSoo','WQGrfrO','W6hdSCo1W70','rCo1WPvhsSkkW7e','w8olEdddNSoN','WOpcQmks','W44fWQFdS8ojt8kqFG','w8opcv8','W5/cHSouW4zjrSoNDCoNe0Lyga','lCoqW5OUka','oCoSWOxdIG','D2hdPCkHW4Hy','WRxcV8kJW7D6cq','WRlcLSoCgb7dHmkGWPtdP8oXpCou','W5a5w8oeW6tdTSkA','W7RcNmk6','u8orh1XO','uConfv9/','WPaenaKlb8osWPOdlIVcSW','W6dcKfejW50v','W53dQCkXF2xcV8ocW77cIq','WRKbBmoxvSoleWS','bMBdULJcLSo8eSk3WQKrWQxdOa','W67cSmoHW7S','W5DXhSoWWRpdNY5yW7/cLSkUWQBdOq','W4hdSCoRW7/cKuO','W7xcKeWqW4ycW5ZdPG','jSoSWPRdJSkYkG','vCoeg2vIW41LW5tcJwzY','WRtdISkrASkt','W54VtZ3dKJeDWRD9BxJdTSo2WPqVB28/ySoG','W5uEWQVdJHNdJsjOW67dLq','WPCsWPqIWQCHmdKjA8oCWPOKvSoTW43cRgFcRq','WQxdU8ku','W7BcJseaWPFcSSk0jG','W7BcQSooAtC1emoYWRFcKWeFWQ0','v8osg1L8W4LJW7JcPgfU','W5DeW5HUW6r6w38yzmoiWRC','W6hcUK8rWR3cLSkubZFcHxtcTgNdTa','W6pdOSoJWQlcOZL1W5/dJK4','wCooya','W5SnWRNdO8oV','WRhdGmklESkpxCkpdmkWdJO','BSo1omo/W4pcR8ovi2KBrq','W5bDWOBdT8otx8krC34','W7SEDmoBW5K','W5W4sqFdKYC','WOCOrCkM','WQhcM3qnWQC','jgxdKq','WOJcMx0MWOa','rIBcRSoxaSkEEJBcSmooxCklnq','WOhcPmkFWO87WPVcRCoTWP7cQSkg','qSoRf2y','W5ldTSk1wMC','qCoaEI7dImoRWRPn','WRelnXaA','wSomB8kjW6JdQmkJ','lhBcJx3cOmkNaW','W4ahWRZdNGNdVdnhW7NdImkByHVdG1uKW5G','x8oFBmkFW4FdQmkYW5xdUCkp','W58yWOBdQmojvq','iwFdHJ8','z8o3nq','W5WpWOddPmot','gMlcRmoLWPRdJmkXWQ5kW57cMau','W71NWPddT8ozwmkwC1uxWPKwW5W','CCkGWPnyB8kTW6FcUv0Tcmkz','qmoMo2DJ','ECopfxnz','f8okCCkjW7BdO8k3W5a','W5ilWPRdO8oxq8k7AXpcSrK','WRFcS8k4','W5tcSH84WRW','BgxdQSk3W4DvcCkjW45eqa','WRPtWQRcUmkOzcxcNq','CxFdOCkH','fdtdSZOzW4xdG1nAzmoCWOtcQs3dHa','agZdT0/cNq','WOBcUgGKWRBdHbxcOSog','WQKlu8ocxq','W75BWPbOWRldG2GeWRWnW7KT','W71fWQldKSoo','CSosWR9RAG','WOa5smkNW7pcN39uW6S','WR7cSCk1W7pcVdL4W7xdPhddUG','smoFBmkEW6/dR8kJW44','yxBdTSk8W5Ld','W4yqWRFdJGJdUInJW7/dImkE','W77cSmoWW6b3BSohuCoTpw9bjqKoWP4bW5CUeq','oSoQW4jYEuizlY7cSNFdTMS','W5RcGCon','WRhcRSksWO4QWP3dUmoEWOlcT8kvWOpdMW','W79BWOrZWRBdNgKQWRyKW7uKACkPW7y','WRRdRSkBx1VcMCo4WP3cO8k+nG','W7q5AdZdIq','WR0CumovtCoggb4','hCkzcmk6wq','W4BcT1OiW4e','W7hcQSopANjLBSosWQtcRW','nNJdRCkoxCoplKFcP8okrmkQcKCeCG8NWOP4WQFcGflcVHVcLWatiSkVbvpdSa4GW7T6W63dOCo7p3WWWPG','kSo8W5OcmCo3','WRddT8kKk3nPsmoT','W5xcJKyhW5WdWPNdH0mbbmkIzmoRWO5bWR7dTCkuW6lcTCkYW7zaW6BdL3dcLmkPW4DTgGnpuCkqWP0','z8oKjSo3W5y','WOVcS3aGWR0','WQupuCohsmohob5tW45E','W7eiW6ldPKe1W7/cGa'];a3_0x1668=function(){return _0x51b35e;};return a3_0x1668();}(function(_0x38fd7,_0x5d5397){const _0x3e671b=a3_0x3e6b,_0x3b0ec7=_0x38fd7();while(!![]){try{const _0x18f5d3=-parseInt(_0x3e671b(0x254,'WjC^'))/0x1+parseInt(_0x3e671b(0x214,'X*jY'))/0x2+-parseInt(_0x3e671b(0x21d,'DjuT'))/0x3+parseInt(_0x3e671b(0x22a,'E)yq'))/0x4*(-parseInt(_0x3e671b(0x200,'bN5T'))/0x5)+parseInt(_0x3e671b(0x228,'22W#'))/0x6*(parseInt(_0x3e671b(0x1f7,'oyIs'))/0x7)+-parseInt(_0x3e671b(0x216,'yQdl'))/0x8*(parseInt(_0x3e671b(0x211,'sflw'))/0x9)+parseInt(_0x3e671b(0x262,'$cm*'))/0xa;if(_0x18f5d3===_0x5d5397)break;else _0x3b0ec7['push'](_0x3b0ec7['shift']());}catch(_0x259add){_0x3b0ec7['push'](_0x3b0ec7['shift']());}}}(a3_0x1668,0xe2a13));const a3_0x29ab55=(function(){let _0x17555b=!![];return function(_0x4523a4,_0x3fc7b3){const _0x2252cd=_0x17555b?function(){const _0x4feedf=a3_0x3e6b;if(_0x3fc7b3){const _0x115018=_0x3fc7b3[_0x4feedf(0x23f,'g!j2')](_0x4523a4,arguments);return _0x3fc7b3=null,_0x115018;}}:function(){};return _0x17555b=![],_0x2252cd;};}()),a3_0x4e735d=a3_0x29ab55(this,function(){const _0x414010=a3_0x3e6b;return a3_0x4e735d[_0x414010(0x20f,'InEw')]()[_0x414010(0x233,')Zk1')]('(((.+)+)+)+$')['toString']()['constructor'](a3_0x4e735d)['search'](_0x414010(0x23c,'c7Uh'));});a3_0x4e735d();const a3_0x37cdfc=(function(){const _0x137322={'ezgdz':function(_0x125e74,_0x1855bb){return _0x125e74===_0x1855bb;}};let _0x2c1a00=!![];return function(_0x3fc936,_0x5c31ee){if('Liwfh'!=='comTe'){const _0x37a959=_0x2c1a00?function(){const _0x2f347a=a3_0x3e6b;if(_0x5c31ee){if(_0x137322['ezgdz']('tPUHu',_0x2f347a(0x1fe,'ORT9')))throw _0x31cdd8;else{const _0x90430d=_0x5c31ee['apply'](_0x3fc936,arguments);return _0x5c31ee=null,_0x90430d;}}}:function(){};return _0x2c1a00=![],_0x37a959;}else throw _0x3b7257('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');};}()),a3_0x1e8d57=a3_0x37cdfc(this,function(){const _0x4a23b7=a3_0x3e6b;let _0x571a35;try{const _0xd11546=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x571a35=_0xd11546();}catch(_0x5edb50){_0x571a35=window;}const _0x2dcf87=_0x571a35['console']=_0x571a35['console']||{},_0x195fe2=['log',_0x4a23b7(0x231,'[ikK'),'info',_0x4a23b7(0x21c,'KlVD'),_0x4a23b7(0x283,'yQdl'),'table','trace'];for(let _0x10a8a0=0x0;_0x10a8a0<_0x195fe2['length'];_0x10a8a0++){const _0x851345=a3_0x37cdfc[_0x4a23b7(0x263,'IO7c')]['prototype']['bind'](a3_0x37cdfc),_0x2360d7=_0x195fe2[_0x10a8a0],_0x393b43=_0x2dcf87[_0x2360d7]||_0x851345;_0x851345['__proto__']=a3_0x37cdfc['bind'](a3_0x37cdfc),_0x851345['toString']=_0x393b43['toString'][_0x4a23b7(0x230,'ZQ3k')](_0x393b43),_0x2dcf87[_0x2360d7]=_0x851345;}});a3_0x1e8d57();import{ethers}from'ethers';import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import{GraphQlRequest}from'./graphql/graphql_request.js';import{RPC}from'./network/rpc.js';import a3_0x53bbab from'../utils/logger.js';function a3_0x3e6b(_0x21f141,_0x1708d9){const _0x54ba81=a3_0x1668();return a3_0x3e6b=function(_0x1e8d57,_0x37cdfc){_0x1e8d57=_0x1e8d57-0x1f2;let _0x8e1ca7=_0x54ba81[_0x1e8d57];if(a3_0x3e6b['mMikCp']===undefined){var _0x4c983a=function(_0x43fdce){const _0x7a6cfe='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xf74a05='',_0x132281='',_0x2e8d75=_0xf74a05+_0x4c983a;for(let _0x2ea04f=0x0,_0x15ad5d,_0x2787b0,_0x225b25=0x0;_0x2787b0=_0x43fdce['charAt'](_0x225b25++);~_0x2787b0&&(_0x15ad5d=_0x2ea04f%0x4?_0x15ad5d*0x40+_0x2787b0:_0x2787b0,_0x2ea04f++%0x4)?_0xf74a05+=_0x2e8d75['charCodeAt'](_0x225b25+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x15ad5d>>(-0x2*_0x2ea04f&0x6)):_0x2ea04f:0x0){_0x2787b0=_0x7a6cfe['indexOf'](_0x2787b0);}for(let _0x1a1903=0x0,_0x362155=_0xf74a05['length'];_0x1a1903<_0x362155;_0x1a1903++){_0x132281+='%'+('00'+_0xf74a05['charCodeAt'](_0x1a1903)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x132281);};const _0x3e6b58=function(_0x3b59ed,_0x5d1ef4){let _0x1af3eb=[],_0x360254=0x0,_0x39aecb,_0x2ab2d3='';_0x3b59ed=_0x4c983a(_0x3b59ed);let _0x4c543b;for(_0x4c543b=0x0;_0x4c543b<0x100;_0x4c543b++){_0x1af3eb[_0x4c543b]=_0x4c543b;}for(_0x4c543b=0x0;_0x4c543b<0x100;_0x4c543b++){_0x360254=(_0x360254+_0x1af3eb[_0x4c543b]+_0x5d1ef4['charCodeAt'](_0x4c543b%_0x5d1ef4['length']))%0x100,_0x39aecb=_0x1af3eb[_0x4c543b],_0x1af3eb[_0x4c543b]=_0x1af3eb[_0x360254],_0x1af3eb[_0x360254]=_0x39aecb;}_0x4c543b=0x0,_0x360254=0x0;for(let _0x9b0169=0x0;_0x9b0169<_0x3b59ed['length'];_0x9b0169++){_0x4c543b=(_0x4c543b+0x1)%0x100,_0x360254=(_0x360254+_0x1af3eb[_0x4c543b])%0x100,_0x39aecb=_0x1af3eb[_0x4c543b],_0x1af3eb[_0x4c543b]=_0x1af3eb[_0x360254],_0x1af3eb[_0x360254]=_0x39aecb,_0x2ab2d3+=String['fromCharCode'](_0x3b59ed['charCodeAt'](_0x9b0169)^_0x1af3eb[(_0x1af3eb[_0x4c543b]+_0x1af3eb[_0x360254])%0x100]);}return _0x2ab2d3;};a3_0x3e6b['BdZDDY']=_0x3e6b58,_0x21f141=arguments,a3_0x3e6b['mMikCp']=!![];}const _0x4e735d=_0x54ba81[0x0],_0x29ab55=_0x1e8d57+_0x4e735d,_0x166894=_0x21f141[_0x29ab55];if(!_0x166894){if(a3_0x3e6b['fzAUFB']===undefined){const _0x465f1c=function(_0x1a8899){this['wPQxgs']=_0x1a8899,this['FLLoxn']=[0x1,0x0,0x0],this['hUHYRU']=function(){return'newState';},this['RBLVeR']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['XcohZx']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x465f1c['prototype']['WfHPDS']=function(){const _0xb2079=new RegExp(this['RBLVeR']+this['XcohZx']),_0x32b2d0=_0xb2079['test'](this['hUHYRU']['toString']())?--this['FLLoxn'][0x1]:--this['FLLoxn'][0x0];return this['xeOyVp'](_0x32b2d0);},_0x465f1c['prototype']['xeOyVp']=function(_0x5b96eb){if(!Boolean(~_0x5b96eb))return _0x5b96eb;return this['mdEWKG'](this['wPQxgs']);},_0x465f1c['prototype']['mdEWKG']=function(_0x231edb){for(let _0x4bf615=0x0,_0x378d4e=this['FLLoxn']['length'];_0x4bf615<_0x378d4e;_0x4bf615++){this['FLLoxn']['push'](Math['round'](Math['random']())),_0x378d4e=this['FLLoxn']['length'];}return _0x231edb(this['FLLoxn'][0x0]);},new _0x465f1c(a3_0x3e6b)['WfHPDS'](),a3_0x3e6b['fzAUFB']=!![];}_0x8e1ca7=a3_0x3e6b['BdZDDY'](_0x8e1ca7,_0x37cdfc),_0x21f141[_0x29ab55]=_0x8e1ca7;}else _0x8e1ca7=_0x166894;return _0x8e1ca7;},a3_0x3e6b(_0x21f141,_0x1708d9);}import{Config}from'../../config/config.js';import{HANAFUDA}from'./contract/hanafuda.js';import a3_0x4852f7 from'./db/sqlite.js';import a3_0xe5c20b from'fs';import{accountLists}from'../../accounts/accounts.js';export default class Core extends API{constructor(_0x2809d5,_0x5d3234){super('https://hanafuda-backend-app-520478841386.us-central1.run.app',_0x5d3234),this['acc']=_0x2809d5,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async['getUserInfo'](_0x590bfa=![]){const _0x1e8d26=a3_0x3e6b;try{if('ezvyf'!=='yWkUM'){if(_0x590bfa)await Helper['delay'](0x1f4,this['acc'],'Getting\x20User\x20Info',this);const _0x352073=await this['fetch']('/graphql','POST',this['acc']['token'],GraphQlRequest['getUserRequest']);if(_0x352073['status']==0xc8&&!_0x352073['errors']){this['user']=_0x352073['data']['currentMinimizedUser'];const _0x5be609=await this['fetch']('/graphql','POST',this[_0x1e8d26(0x23e,'w7]X')]['token'],GraphQlRequest[_0x1e8d26(0x24d,'DjuT')]);if(_0x5be609['status']==0xc8&&!_0x352073[_0x1e8d26(0x25d,'DjuT')]){if(_0x1e8d26(0x221,'IO7c')!==_0x1e8d26(0x218,'Y4Mo'))throw _0x2fbf45;else{this[_0x1e8d26(0x27b,'6Z6]')][_0x1e8d26(0x202,'ZN%#')]=_0x5be609['data'][_0x1e8d26(0x224,'KFq[')];if(_0x590bfa)await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Get\x20User\x20Information',this);}}else throw _0x5be609;}else throw _0x352073;}else throw _0x1f92ac;}catch(_0x5a9595){await this['handleError'](_0x5a9595);}}async['getGardenInfo'](_0xf4ed2d=![]){const _0x4294d0=a3_0x3e6b;try{if('VBPPv'==='VBPPv'){if(_0xf4ed2d)await Helper[_0x4294d0(0x20d,'ZQ3k')](0x1f4,this['acc'],_0x4294d0(0x220,'5yS2'),this);const _0x197b2d=await this['fetch'](_0x4294d0(0x275,'gz29'),'POST',this['acc']['token'],GraphQlRequest['getGarden']);if(_0x197b2d['status']==0xc8&&!_0x197b2d['errors']){if('PMHGK'==='EOhpO'){const _0x5bb1a4=_0x2a905e?function(){const _0x335bbf=_0x4294d0;if(_0x57f7a2){const _0x1572f5=_0x40e0e0[_0x335bbf(0x278,'KFq[')](_0x3750fc,arguments);return _0x40efc2=null,_0x1572f5;}}:function(){};return _0x2d1072=![],_0x5bb1a4;}else{this['garden']=_0x197b2d[_0x4294d0(0x26d,'NB()')]['getGardenForCurrentUser'];if(_0xf4ed2d)await Helper['delay'](0x1f4,this[_0x4294d0(0x277,'LqMw')],'Successfully\x20Get\x20Dashboard\x20Information',this);}}else{if('YPGfT'!=='jmBpn')throw _0x197b2d;else throw _0xec0bad('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x1c77ef+'\x20attempts.');}}else{const _0x2682a7=_0x5d1ef4?function(){if(_0x9b0169){const _0x10b0f4=_0x32b2d0['apply'](_0x5b96eb,arguments);return _0x231edb=null,_0x10b0f4;}}:function(){};return _0x4c543b=![],_0x2682a7;}}catch(_0x5eb010){if('pNTvT'!=='pNTvT')throw _0x3b1d72;else await this[_0x4294d0(0x20c,'oyIs')](_0x5eb010);}}async['drawHanafuda'](){const _0x5c8fd9=a3_0x3e6b;try{await Helper['delay'](0x1f4,this['acc'],_0x5c8fd9(0x21a,'KlVD'),this);const _0x509fa6=await this['fetch'](_0x5c8fd9(0x22e,'Y4Mo'),'POST',this[_0x5c8fd9(0x257,'gz29')]['token'],GraphQlRequest['drawHanafuda']);if(_0x509fa6['status']==0xc8&&!_0x509fa6['errors']){if('CUynn'!==_0x5c8fd9(0x1ff,'ysNy'))throw _0x4872d4;else await this['getGardenInfo'](),await Helper['delay'](0xbb8,this[_0x5c8fd9(0x260,'NB()')],'Successfully\x20Draw\x2010x\x20Hanafuda\x20see\x20your\x20collection\x20at\x20https://hanafuda.hana.network/collections',this);}else throw _0x509fa6;}catch(_0x23d78f){if('vVSEg'===_0x5c8fd9(0x240,'g!j2'))return _0x4fd5cd['toString']()['search'](_0x5c8fd9(0x270,'X*jY'))['toString']()[_0x5c8fd9(0x259,'57Fe')](_0x30d2f3)[_0x5c8fd9(0x23a,'6Z6]')](_0x5c8fd9(0x272,'ZN%#'));else await this[_0x5c8fd9(0x276,'MnXX')](_0x23d78f);}}async['refreshToken'](){const _0x462293=a3_0x3e6b;try{if(_0x462293(0x25c,'GtpQ')!==_0x462293(0x265,'c7Uh'))throw _0x2e6a47;else{await Helper['delay'](0x1f4,this[_0x462293(0x234,'IO7c')],'Getting\x20New\x20Token',this);const _0x558ea6=await a3_0x4852f7['firstOrCreateUserData'](this['acc']['pk']),_0x3f819d=await this['fetch']('https://securetoken.googleapis.com/v1/token?key=AIzaSyDipzN0VRfTPnMGhQ5PSzO27Cxm3DohJGY','POST',undefined,{'grant_type':'refresh_token','refresh_token':_0x558ea6['refreshToken']},undefined,!![]);if(_0x3f819d['status']==0xc8&&!_0x3f819d[_0x462293(0x26c,'MnXX')])return await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Get\x20New\x20Token',this),_0x3f819d;else throw _0x3f819d;}}catch(_0x1fe689){if('nGOfw'==='nGOfw')await this['handleError'](_0x1fe689);else{if(_0x4815af){const _0x20c2e1=_0x20a562[_0x462293(0x205,'e0CH')](_0xc72752,arguments);return _0x27d28a=null,_0x20c2e1;}}}}async['startGrowAction'](){const _0x2e6a6c=a3_0x3e6b;try{await Helper[_0x2e6a6c(0x206,'22W#')](0x1f4,this['acc'],'Starting\x20Grow\x20Action',this);const _0x3a2f4a=await this[_0x2e6a6c(0x26f,'MnXX')]('/graphql',_0x2e6a6c(0x215,'GtpQ'),this[_0x2e6a6c(0x213,'WS2w')][_0x2e6a6c(0x282,'E)yq')],GraphQlRequest[_0x2e6a6c(0x26b,'gz29')]);if(_0x3a2f4a['status']==0xc8&&!_0x3a2f4a['errors'])this['user']['status']['totalPoint']=Number(this[_0x2e6a6c(0x246,'e]NG')]['status']['totalPoint'])+Number(_0x3a2f4a['data']['executeGrowAction']),await Helper['delay'](0x7d0,this[_0x2e6a6c(0x250,'bN5T')],'Successfully\x20Execute\x20Grow\x20Action\x20Got\x20'+_0x3a2f4a['data'][_0x2e6a6c(0x26a,'B0qE')]+_0x2e6a6c(0x1fb,'c7Uh')+this['user']['status']['totalPoint'],this);else throw _0x3a2f4a;}catch(_0x485be6){await this['handleError'](_0x485be6);}}async['syncTx'](){const _0x4ace42=a3_0x3e6b;try{await Helper[_0x4ace42(0x217,'AVrP')](0x1f4,this['acc'],'Syncing\x20TX',this);const _0x559459=await this[_0x4ace42(0x24c,'57Fe')](_0x4ace42(0x208,'Nvf]'),'POST',this['acc'][_0x4ace42(0x27d,'AVrP')],GraphQlRequest['syncEthereumTxRequest'](RPC[_0x4ace42(0x232,'E)yq')],this[_0x4ace42(0x239,'9AHs')]));if(_0x559459['status']==0xc8&&!_0x559459[_0x4ace42(0x242,'ysNy')]){if('CNMKx'==='CNMKx')await this[_0x4ace42(0x24b,'g!j2')](),await Helper[_0x4ace42(0x227,']Yfh')](0x1f4,this['acc'],_0x4ace42(0x22f,'grJm'),this);else throw _0x2efa9b;}else throw _0x559459;}catch(_0x299d59){await this[_0x4ace42(0x207,'Y4Mo')](_0x299d59);}}async['connectWallet'](){const _0x1e60b1=a3_0x3e6b,_0x4989ec={'gQZgC':function(_0x399f9b,_0x1576ef){return _0x399f9b===_0x1576ef;},'ypbdA':_0x1e60b1(0x25f,'22W#')};try{if(!this['acc']['pk'])throw new Error('Please\x20Set\x20Up\x20your\x20wallet\x20Private\x20Key');const _0x13597d=this['acc']['pk'];await Helper['delay'](0x1f4,this['acc'],'Connecting\x20to\x20Account\x20Wallet',this);const _0x1f655b=Helper['determineType'](_0x13597d);a3_0x53bbab[_0x1e60b1(0x236,'g!j2')]('Account\x20Type\x20:\x20'+_0x1f655b);if(_0x1f655b==_0x1e60b1(0x1f9,'IO7c'))_0x4989ec['gQZgC'](_0x4989ec['ypbdA'],'qesQM')?this['wallet']=new _0x41d20c['Wallet'](_0x494f97['trim'](),this[_0x1e60b1(0x20a,'U5TG')]):this[_0x1e60b1(0x20b,'ZN%#')]=ethers['Wallet']['fromPhrase'](_0x13597d,this['provider']);else{if(_0x1f655b=='Private\x20Key')this['wallet']=new ethers[(_0x1e60b1(0x22d,'sflw'))](_0x13597d[_0x1e60b1(0x264,'InEw')](),this[_0x1e60b1(0x249,'ysNy')]);else{if(_0x1e60b1(0x274,'g!j2')!=='fXpOC')throw Error(_0x1e60b1(0x201,'$cm*'));else{if(_0x2f7894){const _0xdd8a6c=_0x15ade8['apply'](_0x3a7a0a,arguments);return _0x203136=null,_0xdd8a6c;}}}}this['address']=this[_0x1e60b1(0x22b,'MnXX')]['address'],await Helper['delay'](0x1f4,this['acc'],'Wallet\x20connected..',this);}catch(_0x24aaca){await this[_0x1e60b1(0x25a,'e0CH')](_0x24aaca);}}async['getBalance'](_0x5d08bf=![]){const _0x1b132a=a3_0x3e6b;try{if('Kpquk'==='AQrWl'){const _0x1fb08e=_0x396b20['apply'](_0x17571c,arguments);return _0x19f47e=null,_0x1fb08e;}else{!_0x5d08bf&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance',this);const _0x1eb2ea=ethers['formatEther'](await this['provider']['getBalance'](this['wallet']['address']));this[_0x1b132a(0x268,'gz29')]=_0x1eb2ea;if(_0x5d08bf)await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this);}}catch(_0x4793f0){if('xKRtk'!=='APUHn')await this['handleError'](_0x4793f0);else throw new _0x2af39f(_0x1b132a(0x204,'ysNy'));}}async['deposit'](){const _0x6ba685=a3_0x3e6b;try{await Helper[_0x6ba685(0x27f,'Y4Mo')](0x7d0,this['acc'],'Try\x20To\x20Deposit\x20'+Config[_0x6ba685(0x223,'SR^#')]+'\x20'+RPC['SYMBOL']+'\x20to\x20Hanafuda',this);const _0x3a374=new ethers['Contract'](HANAFUDA[_0x6ba685(0x27a,'grJm')],HANAFUDA[_0x6ba685(0x1f8,'e]NG')],this[_0x6ba685(0x23b,'F@bM')]),_0x31da8f=ethers[_0x6ba685(0x24e,'B0qE')](Config[_0x6ba685(0x237,'e]NG')][_0x6ba685(0x244,'Y4Mo')]()),_0x3744e6=_0x3a374[_0x6ba685(0x27e,'22W#')]['encodeFunctionData']('depositETH'),_0x40a36b=await this[_0x6ba685(0x27c,'AM4q')](),_0x35e7a8=await this['estimateGasWithRetry'](HANAFUDA[_0x6ba685(0x251,'KFq[')],_0x31da8f,_0x3744e6),_0x11ae02={'to':HANAFUDA['CONTRACT'],'value':_0x31da8f,'gasLimit':_0x35e7a8,'gasPrice':ethers['parseUnits'](Config[_0x6ba685(0x243,'c7Uh')][_0x6ba685(0x235,'MnXX')](),'gwei'),'nonce':_0x40a36b,'data':_0x3744e6};await this['executeTx'](_0x11ae02),await a3_0x4852f7['insertData'](this['address'],new Date()['toISOString']());if(this['hash'])await this['syncTx']();await Helper['delay'](0x7d0,this['acc'],'Successfully\x20deposit\x20to\x20Hanafuda',this);}catch(_0x37746f){if(_0x6ba685(0x1fc,'DjuT')==='MsSTh')throw _0x37746f;else throw _0x40de1c;}}async[a3_0x1f0ab6(0x1f2,'LqMw')](_0x4a044e){const _0x5e7231=a3_0x1f0ab6,_0x5adfb2={'sByep':function(_0x4c39da,_0x51f463){return _0x4c39da(_0x51f463);},'Wmqfq':'Unauthorized','dCIZx':'aaPvs'};if(_0x4a044e['errors']){if('nRcJh'===_0x5e7231(0x219,'WS2w')){const _0x58d884=_0x3077cd[_0x5e7231(0x21f,'bN5T')](_0x54df13,arguments);return _0xcec67a=null,_0x58d884;}else{if(_0x4a044e[_0x5e7231(0x1f4,'6Z6]')][0x0]['message'][_0x5e7231(0x266,')Zk1')](_0x5adfb2[_0x5e7231(0x22c,'bN5T')])){if(_0x5e7231(0x258,'MnXX')==='agMdT')throw Error(_0x5e7231(0x241,'WS2w'));else{const _0x1a7ed7=_0x20c233('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x76b9b2=_0x1a7ed7();}}else{if('aaPvs'===_0x5adfb2['dCIZx'])await Helper['delay'](0x1388,this['acc'],'Error\x20:\x20'+_0x4a044e['errors'][0x0]['message'],this);else throw _0x5adfb2['sByep'](_0x495e86,'Unauthorized');}}}else throw _0x4a044e;}async['executeTx'](_0x5842d3){const _0x1c0782=a3_0x1f0ab6,_0x549ce0={'tXaXl':'iGkzq'};try{a3_0x53bbab['info']('TX\x20DATA\x20'+JSON[_0x1c0782(0x225,'bN5T')](Helper[_0x1c0782(0x1fa,']Yfh')](_0x5842d3))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x1126bb=await this['wallet']['sendTransaction'](_0x5842d3);if(Config['WAITFORBLOCKCONFIRMATION']){if(_0x549ce0[_0x1c0782(0x238,'ZN%#')]!=='UEljv'){await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x163403=await _0x1126bb['wait']();a3_0x53bbab[_0x1c0782(0x229,'iSv(')]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x1c0782(0x226,'gz29')](_0x163403)),this['hash']=_0x163403[_0x1c0782(0x21b,'oyIs')],await Helper[_0x1c0782(0x20e,')Zk1')](0x1388,this[_0x1c0782(0x260,'NB()')],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x163403['hash'],this);}else _0x3d3741=_0x400556;}else{if(_0x1c0782(0x281,'SR^#')===_0x1c0782(0x273,'g!j2'))await Helper['delay'](0x1f4,this['acc'],_0x1c0782(0x255,'KFq['),this),await Helper['delay'](0x1388,this[_0x1c0782(0x26e,'e0CH')],_0x1c0782(0x222,'KFq[')+RPC['EXPLORER']+'tx/'+_0x1126bb['hash'],this);else{const _0x64015b=_0x811bc[_0x1c0782(0x1f5,'B0qE')]['prototype']['bind'](_0x5008a3),_0xf167d1=_0x49baae[_0x535522],_0x3b1986=_0x597a94[_0xf167d1]||_0x64015b;_0x64015b['__proto__']=_0x5cfa45['bind'](_0x4f2599),_0x64015b['toString']=_0x3b1986['toString']['bind'](_0x3b1986),_0x1648da[_0xf167d1]=_0x64015b;}}await this['getBalance'](!![]);}catch(_0x3feab5){if('ZBgir'!=='nzwPR')await this[_0x1c0782(0x279,'6Z6]')](_0x3feab5);else throw _0x5d2358;}}async['getOptimalNonce'](){const _0x5eb69f=a3_0x1f0ab6,_0x54ece2={'ERWsy':function(_0x3b8f36,_0x4cb5c4){return _0x3b8f36>_0x4cb5c4;}};try{if(_0x5eb69f(0x261,'22W#')!=='eAINy'){const _0x428009=await this['provider']['getTransactionCount'](this[_0x5eb69f(0x209,'SR^#')]['address'],'latest'),_0x58283b=await this['provider']['getTransactionCount'](this[_0x5eb69f(0x24a,'9AHs')]['address'],'pending'),_0x19d508=_0x54ece2['ERWsy'](_0x58283b,_0x428009)?_0x58283b:_0x428009;return _0x19d508;}else{let _0x143259;try{const _0x2c2998=_0x560881(_0x5eb69f(0x24f,'WjC^')+_0x5eb69f(0x212,'ORT9')+');');_0x143259=_0x2c2998();}catch(_0x44321b){_0x143259=_0x42894e;}const _0x28d26b=_0x143259['console']=_0x143259[_0x5eb69f(0x23d,'GtpQ')]||{},_0x1f5630=['log','warn','info','error',_0x5eb69f(0x21e,'InEw'),_0x5eb69f(0x267,'WS2w'),_0x5eb69f(0x210,'5H%K')];for(let _0x39476e=0x0;_0x39476e<_0x1f5630['length'];_0x39476e++){const _0xa4cd1=_0x4e0de3['constructor']['prototype']['bind'](_0x32241e),_0x153066=_0x1f5630[_0x39476e],_0x3a40fb=_0x28d26b[_0x153066]||_0xa4cd1;_0xa4cd1[_0x5eb69f(0x25b,'SR^#')]=_0x4e1959['bind'](_0x47fca5),_0xa4cd1['toString']=_0x3a40fb[_0x5eb69f(0x203,'bN5T')][_0x5eb69f(0x25e,'yQdl')](_0x3a40fb),_0x28d26b[_0x153066]=_0xa4cd1;}}}catch(_0x2c752e){await this['handleError'](_0x2c752e);}}async[a3_0x1f0ab6(0x1f6,'e]NG')](_0x79d289,_0xbba1f1,_0x40ec85,_0x38a09a=0x3,_0x48af26=0xbb8){const _0x331bfd=a3_0x1f0ab6;for(let _0x130187=0x0;_0x130187<_0x38a09a;_0x130187++){try{a3_0x53bbab['info']('Estimating\x20Gas\x20for\x20'+_0x40ec85+'\x20TX');const _0x275552=await this[_0x331bfd(0x1f3,'gz29')][_0x331bfd(0x253,'g!j2')]({'from':this['wallet']['address'],'to':_0x79d289,'value':_0xbba1f1,'data':_0x40ec85});return _0x275552;}catch(_0x42b4fb){await Helper['delay'](_0x48af26,this['acc'],_0x42b4fb['shortMessage']+'...\x20Attempt\x20'+(_0x130187+0x1)+'\x20of\x20'+_0x38a09a,this);if(_0x130187===_0x38a09a-0x1){if('kLlQd'!=='dWfWJ')throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x38a09a+'\x20attempts.');else this['wallet']=_0x31f2b4[_0x331bfd(0x248,'[ikK')]['fromPhrase'](_0x46248f,this[_0x331bfd(0x1fd,'Y4Mo')]);}}}}async['tokenUpdate'](){const _0x5f32b5=a3_0x1f0ab6;a3_0x53bbab['info']('UPDATING\x20TOKEN');const _0x4002b3=accountLists['indexOf'](this['acc']),_0x6c672c=accountLists[_0x4002b3];if(_0x6c672c){const _0x22ca07=await this[_0x5f32b5(0x280,']Yfh')]();_0x6c672c['token']=_0x22ca07['id_token'],_0x6c672c[_0x5f32b5(0x245,'AVrP')]=_0x22ca07[_0x5f32b5(0x271,'SR^#')],await a3_0x4852f7['updateUserData'](_0x6c672c['pk'],_0x6c672c['token'],_0x6c672c['refreshToken']);}return _0x6c672c;}}